<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Entradas - Solo Carrera</title>
  <link rel="stylesheet" href="styles.css" />
  <style>

    .resultado .resumen {
      background: #f3f7ff;
      border: 1px solid #d0d9ff;
      padding: 1rem;
      border-radius: 6px;
      color: #04305a;
      max-width: 700px;
    }
    .resultado .resumen h3 {
      margin: 0 0 0.5rem 0;
    }
    .resultado .resumen ul {
      list-style: none;
      padding: 0;
      margin: 0 0 0.5rem 0;
    }
    .resultado .resumen li {
      padding: 0.25rem 0;
      border-bottom: 1px dashed rgba(0,0,0,0.05);
    }
    .resultado .resumen li strong { width: 110px; display: inline-block; }
    .resultado .mensaje { margin: 0; font-weight: 600; color: #065f46; }
  </style>
</head>
<body>
  <header class="site-header">
 <a class="logo" href="index.html" aria-label="Inicio">

        <img id="logoF1" src="Imagenes/Logo_transparent_result_padded_x3.png" alt="">
        
    </a>

  <nav class="main-nav" aria-label="Menú principal">
    <ul>
      <li class="has-sub">
        <a href="#">La carrera ▾</a>
        <ul class="sub">
          <li><a href="#">Circuito</a></li>
          <li><a href="#">Escuderías</a></li>
          <li><a href="#">Horarios</a></li>
        </ul>
      </li>
      <li class="has-sub">
        <a href="#">Bilbao ▾</a>
        <ul class="sub">
          <li><a href="#">Visítanos</a></li>
          <li><a href="#">Gastronomía</a></li>
          <li><a href="#">Alojamiento</a></li>
        </ul>
      </li>
      <li class="has-sub">
        <a href="#">Entradas ▾</a>
        <ul class="sub">
          <li><a href="solo_carrera.html">Solo Carrera</a></li>
          <li><a href="#">Fin semana</a></li>
          <li><a href="acceso.html">Acceso</a></li>
        </ul>
      </li>
      <li><a href="sorteo.html">Sorteo Tres primeros pilotos</a></li>
      <li><a href="contacto.html">Contacto</a></li>
    </ul>
  </nav>
</header>

  <main class="container">
    <div class="content">
      <article class="main-block">
        <h1>Compra: Solo Carrera</h1>
        <form id="compraForm" class="ticket-form">
          <label>DNI
            <input id="dni" name="dni" maxlength="9" required pattern="[0-9]{8}[A-Z]" placeholder="12345678A" />
          </label>

          <label>Nombre
            <input id="nombre" name="nombre" required />
          </label>

          <label>Apellidos
            <input id="apellidos" name="apellidos" required />
          </label>

          <label>Email
            <input id="email" name="email" type="email" required />
          </label>

          <label>Tipo entrada
            <select id="tipo" name="tipo">
              <option value="adulto">Adulto</option>
              <option value="infantil">Infantil</option>
            </select>
          </label>

          <label>Zona
            <select id="zona" name="zona">
              <option value="zona1">Zona1</option>
              <option value="zona2">Zona2</option>
            </select>
          </label>

          <label>Edad
            <input id="edad" name="edad" type="number" min="0" />
          </label>

          <label>Precio
            <input id="precio" name="precio" disabled />
          </label>

          <button type="submit" id="comprar">Comprar Entrada</button>
        </form>

        <section class="explain">
          <div id="resultado" class="resultado"></div>
        </section>
      </article>
    </div>
  </main>

  <footer class="site-footer">
    <div class="footer-left">
      <img id="logoF1Footer" src="Imagenes/Logo_transparent_result.png" alt="">
      <p>Política de Cookies | Política de Privacidad</p>
    </div>
    <div class="socials">
      <a href="https://www.facebook.com/Formula1/?locale=es_LA" aria-label="Facebook"><img class="Redes" src="Imagenes/png-transparent-facebook-logo-facebook-messenger-logo-social-media-icon-facebook-icon-blue-text-rectangle-thumbnail.png" alt=""></a>
      <a href="https://x.com/F1?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" aria-label="Twitter"><img class="Redes" src="Imagenes/3c817a1285aecd16354408dc4b31d7c5.jpg" alt=""></a>
      <a href="https://www.instagram.com/f1/" aria-label="Instagram"><img class="Redes" src="Imagenes/icono-logotipo-vector-instagram-logotipo-redes-sociales_901408-395.avif" alt=""></a>
    </div>
  </footer>

  <script src="solo_carrera.js"></script>
  <script>
    // reemplazo visual del resumen para mostrarlo limpio
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('compraForm');
      const resultado = document.getElementById('resultado');

      if (!form || !resultado) return;

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        const get = id => (document.getElementById(id) ? document.getElementById(id).value.trim() : '');

        const data = {
          dni: get('dni').toUpperCase(),
          nombre: get('nombre'),
          apellidos: get('apellidos'),
          email: get('email'),
          tipo: get('tipo'),
          zona: get('zona'),
          edad: get('edad') || 'N/A'
        };

        // si tu solo_carrera.js ya calcula precio, puedes quitar esta lógica y tomar el valor real
        let precio = document.getElementById('precio') && document.getElementById('precio').value;
        if (!precio) {
          // ejemplo sencillo de cálculo por defecto
          if (data.tipo === 'adulto') precio = data.zona === 'zona1' ? '120 €' : '100 €';
          else precio = data.zona === 'zona1' ? '60 €' : '50 €';
        }
        data.precio = precio;

        resultado.innerHTML = `
          <div class="resumen" role="status" aria-live="polite">
            <h3>Resumen de la compra</h3>
            <ul>
              <li><strong>DNI:</strong> ${escapeHtml(data.dni)}</li>
              <li><strong>Nombre:</strong> ${escapeHtml(data.nombre)} ${escapeHtml(data.apellidos)}</li>
              <li><strong>Email:</strong> ${escapeHtml(data.email)}</li>
              <li><strong>Tipo:</strong> ${escapeHtml(capitalize(data.tipo))}</li>
              <li><strong>Zona:</strong> ${escapeHtml(capitalize(data.zona))}</li>
              <li><strong>Edad:</strong> ${escapeHtml(data.edad)}</li>
              <li><strong>Precio:</strong> ${escapeHtml(data.precio)}</li>
            </ul>
            <p class="mensaje">Compra simulada correctamente. Se enviará confirmación (simulado).</p>
          </div>
        `;
      });

      function escapeHtml(str) {
        return String(str || '').replace(/[&<>"']/g, function (s) {
          return ({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' })[s];
        });
      }
      function capitalize(s) { return (s || '').replace(/^\w/, c => c.toUpperCase()); }
    });
  </script>
</body>
</html>